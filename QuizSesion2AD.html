<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Anal√≠tica de Datos - Universidad del SABES</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .container {
            max-width: 900px;
            width: 95%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .university-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .university-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #3498db, #f39c12);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .university-name {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .course-name {
            font-size: 1.3rem;
            color: #e8f4fd;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .start-screen {
            text-align: center;
        }

        .main-title {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #ffd700, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
        }

        .start-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            letter-spacing: 1px;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .quiz-screen {
            display: none;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .timer {
            background: rgba(255, 107, 107, 0.2);
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid rgba(255, 107, 107, 0.5);
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff6b6b;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer.warning {
            animation: pulse 1s infinite;
            background: rgba(255, 0, 0, 0.3);
            border-color: #ff0000;
            color: #ff0000;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .progress-section {
            margin-bottom: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ff6b6b);
            border-radius: 6px;
            transition: width 0.5s ease;
        }

        .section-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .question-counter {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .score-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ffd700;
        }

        .question {
            font-size: 1.6rem;
            margin-bottom: 30px;
            line-height: 1.5;
            text-align: center;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            text-align: left;
            position: relative;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .option.selected {
            background: rgba(255, 255, 255, 0.3);
            border-color: #ffd700;
        }

        .option.correct {
            background: rgba(46, 213, 115, 0.3);
            border-color: #2ed573;
        }

        .option.incorrect {
            background: rgba(255, 107, 107, 0.3);
            border-color: #ff6b6b;
        }

        .option::before {
            content: attr(data-letter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .option-text {
            margin-left: 50px;
        }

        .next-btn {
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            float: right;
            opacity: 0;
            pointer-events: none;
            font-weight: bold;
        }

        .next-btn.show {
            opacity: 1;
            pointer-events: all;
        }

        .results-screen {
            display: none;
            text-align: center;
        }

        .results-header {
            margin-bottom: 40px;
        }

        .final-score {
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .performance-level {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .performance-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .result-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .result-card h3 {
            margin-bottom: 10px;
            color: #ffd700;
        }

        .section-results {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #ffd700;
            text-align: left;
        }

        .section-performance {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid;
        }

        .section-card.excellent { border-left-color: #2ed573; }
        .section-card.good { border-left-color: #ffd700; }
        .section-card.fair { border-left-color: #ff9f43; }
        .section-card.needs-improvement { border-left-color: #ff6b6b; }

        .feedback-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: left;
        }

        .feedback-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #ffd700;
        }

        .feedback-list {
            list-style: none;
            padding: 0;
        }

        .feedback-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .feedback-list li::before {
            content: "üìö";
            position: absolute;
            left: 0;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.3rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            margin: 10px;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 20px;
            }
            
            .main-title {
                font-size: 2.2rem;
            }
            
            .quiz-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .timer {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Universitario -->
        <div class="university-header">
            <div class="university-logo">üéì</div>
            <div class="university-name">Universidad del SABES</div>
            <div class="course-name">ANAL√çTICA DE DATOS</div>
        </div>

        <!-- Pantalla de inicio -->
        <div class="start-screen" id="startScreen">
            <h1 class="main-title">Evaluaci√≥n Integral</h1>
            <p class="subtitle">Eval√∫a tus conocimientos en todas las √°reas de la anal√≠tica de datos<br>
            Desde conceptos b√°sicos hasta herramientas especializadas</p>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number">40</div>
                    <div>Preguntas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div>Secciones</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">‚è±Ô∏è</div>
                    <div>Cronometrado</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">üìä</div>
                    <div>Retroalimentaci√≥n</div>
                </div>
            </div>
            
            <button class="start-btn" onclick="startQuiz()">¬°Comenzar Evaluaci√≥n!</button>
        </div>

        <!-- Pantalla del quiz -->
        <div class="quiz-screen" id="quizScreen">
            <div class="quiz-header">
                <div class="timer" id="timer">‚è±Ô∏è <span id="timeLeft">02:00</span></div>
                <div class="score-display" id="currentScore">Puntos: 0</div>
            </div>

            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
            </div>
            
            <div class="section-info">
                <div class="section-badge" id="sectionBadge">¬øQu√© tanto sabes de DATOS?</div>
                <div class="question-counter" id="questionNumber">Pregunta 1 de 40</div>
            </div>
            
            <div class="question" id="questionText"></div>
            
            <div class="options" id="optionsContainer">
                <!-- Opciones se generan din√°micamente -->
            </div>
            
            <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Siguiente</button>
        </div>

        <!-- Pantalla de resultados -->
        <div class="results-screen" id="resultsScreen">
            <div class="university-header">
                <div class="university-logo">üèÜ</div>
                <div class="university-name">Universidad del SABES</div>
                <div class="course-name">ANAL√çTICA DE DATOS - RESULTADOS</div>
            </div>

            <div class="results-header">
                <div class="final-score" id="finalScore">0/40</div>
                <div class="performance-level" id="performanceLevel">Nivel Intermedio</div>
                <div class="performance-message" id="performanceMessage">¬°Buen trabajo! Contin√∫a mejorando</div>
            </div>
            
            <div class="results-grid">
                <div class="result-card">
                    <h3>Puntuaci√≥n Total</h3>
                    <div class="stat-number" id="totalPoints">0</div>
                </div>
                <div class="result-card">
                    <h3>Precisi√≥n</h3>
                    <div class="stat-number" id="accuracy">0%</div>
                </div>
                <div class="result-card">
                    <h3>Tiempo Promedio</h3>
                    <div class="stat-number" id="avgTime">0s</div>
                </div>
                <div class="result-card">
                    <h3>Mejor Secci√≥n</h3>
                    <div class="stat-number" id="bestSection">-</div>
                </div>
            </div>

            <div class="section-results">
                <h2 class="section-title">üìä Rendimiento por Secci√≥n</h2>
                <div class="section-performance" id="sectionPerformance">
                    <!-- Se generan din√°micamente -->
                </div>
            </div>

            <div class="feedback-section">
                <h3 class="feedback-title">üí° Recomendaciones de Estudio</h3>
                <ul class="feedback-list" id="feedbackList">
                    <!-- Se genera din√°micamente -->
                </ul>
            </div>
            
            <div style="text-align: center;">
                <button class="restart-btn" onclick="restartQuiz()">Intentar de Nuevo</button>
                <button class="restart-btn" onclick="showDetailedResults()">Ver An√°lisis Detallado</button>
            </div>
        </div>
    </div>

    <script>
        const sections = {
            "DATOS": {
                name: "¬øQu√© tanto sabes de DATOS?",
                color: "#3498db",
                questions: []
            },
            "BIG_DATA": {
                name: "¬øQu√© tanto sabes de BIG DATA?",
                color: "#e74c3c",
                questions: []
            },
            "POWER_BI": {
                name: "¬øQu√© tanto sabes de POWER BI?",
                color: "#f39c12",
                questions: []
            },
            "PYTHON": {
                name: "¬øQu√© tanto sabes de PYTHON?",
                color: "#27ae60",
                questions: []
            },
            "R": {
                name: "¬øQu√© tanto sabes de R?",
                color: "#9b59b6",
                questions: []
            }
        };

        const questions = [
            // SECCI√ìN: DATOS (Conceptos fundamentales)
            {
                section: "DATOS",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la diferencia principal entre datos estructurados y no estructurados?",
                options: [
                    "Los estructurados est√°n en bases de datos, los no estructurados en archivos",
                    "Los estructurados tienen formato definido (tablas), los no estructurados no (texto, im√°genes)",
                    "Los estructurados son num√©ricos, los no estructurados son texto",
                    "No hay diferencia real entre ambos tipos"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "DATOS",
                difficulty: "b√°sico",
                question: "¬øQu√© significa ETL en el contexto de anal√≠tica de datos?",
                options: [
                    "Export, Transform, Load",
                    "Extract, Transfer, Link", 
                    "Extract, Transform, Load",
                    "Evaluate, Test, Launch"
                ],
                correct: 2,
                timeLimit: 90
            },
            {
                section: "DATOS",
                difficulty: "intermedio",
                question: "¬øCu√°l es la principal caracter√≠stica de un conjunto de datos (dataset)?",
                options: [
                    "Debe contener solo n√∫meros",
                    "Es una colecci√≥n organizada de datos relacionados para an√°lisis",
                    "Solo puede tener una tabla",
                    "Siempre est√° en formato Excel"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "DATOS",
                difficulty: "intermedio",
                question: "¬øQu√© es la limpieza de datos (Data Cleaning)?",
                options: [
                    "Eliminar todos los datos antiguos",
                    "Proceso de detectar y corregir datos incorrectos, incompletos o irrelevantes",
                    "Organizar datos en carpetas",
                    "Hacer copias de seguridad"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "DATOS",
                difficulty: "avanzado",
                question: "¬øCu√°l es la diferencia entre an√°lisis descriptivo y an√°lisis predictivo?",
                options: [
                    "Descriptivo usa gr√°ficos, predictivo usa n√∫meros",
                    "Descriptivo explica qu√© pas√≥, predictivo anticipa qu√© podr√≠a pasar",
                    "Descriptivo es m√°s complejo que predictivo",
                    "No hay diferencia, son sin√≥nimos"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "DATOS",
                difficulty: "avanzado",
                question: "¬øQu√© es un KPI (Key Performance Indicator)?",
                options: [
                    "Una base de datos especial",
                    "Un tipo de gr√°fico",
                    "Una m√©trica que mide el rendimiento hacia objetivos espec√≠ficos",
                    "Un software de an√°lisis"
                ],
                correct: 2,
                timeLimit: 120
            },
            {
                section: "DATOS",
                difficulty: "avanzado",
                question: "En el proceso CRISP-DM, ¬øcu√°l es la primera fase?",
                options: [
                    "Preparaci√≥n de datos",
                    "Comprensi√≥n del negocio",
                    "Modelado",
                    "Evaluaci√≥n"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "DATOS",
                difficulty: "intermedio",
                question: "¬øQu√© caracteriza a los datos cualitativos?",
                options: [
                    "Solo contienen n√∫meros",
                    "Describen cualidades o caracter√≠sticas no num√©ricas",
                    "Siempre son datos estructurados",
                    "No se pueden analizar estad√≠sticamente"
                ],
                correct: 1,
                timeLimit: 120
            },

            // SECCI√ìN: BIG DATA
            {
                section: "BIG_DATA",
                difficulty: "b√°sico",
                question: "¬øCu√°les son las 3 V's tradicionales del Big Data?",
                options: [
                    "Velocidad, Variedad, Verificaci√≥n",
                    "Volumen, Velocidad, Variedad",
                    "Valor, Velocidad, Volumen",
                    "Variedad, Verificaci√≥n, Valor"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "BIG_DATA",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la principal ventaja del Big Data?",
                options: [
                    "Solo maneja datos grandes",
                    "Permite analizar grandes vol√∫menes de datos diversos para obtener insights",
                    "Es m√°s r√°pido que los an√°lisis tradicionales",
                    "Solo funciona con inteligencia artificial"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "BIG_DATA",
                difficulty: "intermedio",
                question: "¬øQu√© perfil profesional NO es t√≠pico en Big Data?",
                options: [
                    "Data Scientist",
                    "Data Engineer",
                    "Data Analyst",
                    "Marketing Manager tradicional"
                ],
                correct: 3,
                timeLimit: 120
            },
            {
                section: "BIG_DATA",
                difficulty: "intermedio",
                question: "¬øQu√© es un Data Warehouse?",
                options: [
                    "Un almac√©n f√≠sico de servidores",
                    "Sistema centralizado para almacenar y gestionar datos de m√∫ltiples fuentes",
                    "Un software de an√°lisis",
                    "Una base de datos peque√±a"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "BIG_DATA",
                difficulty: "avanzado",
                question: "¬øCu√°l es la principal diferencia entre Data Lake y Data Warehouse?",
                options: [
                    "Data Lake es m√°s peque√±o",
                    "Data Lake almacena datos en formato nativo, Data Warehouse en formato estructurado",
                    "No hay diferencia",
                    "Data Warehouse es m√°s moderno"
                ],
                correct: 1,
                timeLimit: 180
            },
            {
                section: "BIG_DATA",
                difficulty: "avanzado",
                question: "¬øQu√© significa el t√©rmino 'Miner√≠a de Datos' (Data Mining)?",
                options: [
                    "Extraer datos de bases de datos",
                    "Proceso de descubrir patrones y conocimientos en grandes conjuntos de datos",
                    "Limpiar datos sucios",
                    "Crear copias de seguridad"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "BIG_DATA",
                difficulty: "intermedio",
                question: "¬øQu√© tecnolog√≠a es fundamental para el procesamiento de Big Data?",
                options: [
                    "Solo SQL",
                    "Computaci√≥n distribuida (como Hadoop, Spark)",
                    "Solo Excel",
                    "√önicamente inteligencia artificial"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "BIG_DATA",
                difficulty: "avanzado",
                question: "En la metodolog√≠a CRISP-DM, ¬øqu√© sigue despu√©s de 'Comprensi√≥n de los datos'?",
                options: [
                    "Modelado",
                    "Preparaci√≥n de los datos",
                    "Evaluaci√≥n",
                    "Despliegue"
                ],
                correct: 1,
                timeLimit: 120
            },

            // SECCI√ìN: POWER BI
            {
                section: "POWER_BI",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la funci√≥n principal de Power Query en Power BI?",
                options: [
                    "Crear visualizaciones",
                    "Conectar, transformar y limpiar datos",
                    "Compartir reportes",
                    "Crear dashboards"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "POWER_BI",
                difficulty: "b√°sico",
                question: "¬øQu√© es DAX en Power BI?",
                options: [
                    "Un tipo de gr√°fico",
                    "Data Analysis Expressions - lenguaje de f√≥rmulas y consultas",
                    "Una base de datos",
                    "Un formato de archivo"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "POWER_BI",
                difficulty: "intermedio",
                question: "¬øCu√°l es la diferencia entre un reporte y un dashboard en Power BI?",
                options: [
                    "No hay diferencia",
                    "Los reportes son detallados, los dashboards son res√∫menes visuales",
                    "Los dashboards son m√°s complejos",
                    "Los reportes solo tienen tablas"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "POWER_BI",
                difficulty: "intermedio",
                question: "¬øQu√© funci√≥n cumple Power BI Service?",
                options: [
                    "Solo crear reportes",
                    "Plataforma en la nube para compartir, colaborar y acceder a reportes",
                    "Instalar Power BI",
                    "Solo almacenar datos"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "POWER_BI",
                difficulty: "avanzado",
                question: "¬øQu√© es un modelo de datos en Power BI?",
                options: [
                    "Un tipo de gr√°fico",
                    "La estructura que define relaciones entre tablas de datos",
                    "Una plantilla de reporte",
                    "Un archivo de configuraci√≥n"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "POWER_BI",
                difficulty: "avanzado",
                question: "¬øCu√°l es la funci√≥n de una medida (Measure) en Power BI?",
                options: [
                    "Solo mostrar datos",
                    "Realizar c√°lculos din√°micos basados en filtros y contexto",
                    "Crear tablas nuevas",
                    "Conectar bases de datos"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "POWER_BI",
                difficulty: "intermedio",
                question: "¬øPara qu√© sirven los filtros en Power BI?",
                options: [
                    "Solo para decorar reportes",
                    "Permitir a los usuarios interactuar y segmentar datos din√°micamente",
                    "Cambiar colores",
                    "Exportar datos"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "POWER_BI",
                difficulty: "avanzado",
                question: "¬øQu√© es una tabla calculada en Power BI?",
                options: [
                    "Una tabla importada de Excel",
                    "Una tabla creada usando f√≥rmulas DAX",
                    "Una tabla de Power Query",
                    "Una tabla temporal"
                ],
                correct: 1,
                timeLimit: 150
            },

            // SECCI√ìN: PYTHON
            {
                section: "PYTHON",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la librer√≠a m√°s popular de Python para an√°lisis de datos?",
                options: [
                    "NumPy",
                    "Pandas",
                    "Matplotlib",
                    "Seaborn"
                ],
                correct: 1,
                timeLimit: 90
            },
            {
                section: "PYTHON",
                difficulty: "b√°sico",
                question: "¬øQu√© es un DataFrame en Pandas?",
                options: [
                    "Un tipo de gr√°fico",
                    "Una estructura de datos bidimensional similar a una tabla",
                    "Una funci√≥n matem√°tica",
                    "Un archivo de Python"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "PYTHON",
                difficulty: "intermedio",
                question: "¬øCu√°l es la funci√≥n de NumPy en an√°lisis de datos?",
                options: [
                    "Crear gr√°ficos",
                    "Operaciones num√©ricas eficientes con arrays",
                    "Conectar bases de datos",
                    "Crear interfaces web"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "PYTHON",
                difficulty: "intermedio",
                question: "¬øQu√© librer√≠a se usa com√∫nmente para visualizaci√≥n en Python?",
                options: [
                    "Pandas",
                    "NumPy",
                    "Matplotlib",
                    "Requests"
                ],
                correct: 2,
                timeLimit: 90
            },
            {
                section: "PYTHON",
                difficulty: "b√°sico",
                question: "¬øCu√°l es el m√©todo para leer un archivo CSV en Pandas?",
                options: [
                    "pandas.open_csv()",
                    "pandas.read_csv()",
                    "pandas.load_csv()",
                    "pandas.import_csv()"
                ],
                correct: 1,
                timeLimit: 90
            },
            {
                section: "PYTHON",
                difficulty: "b√°sico",
                question: "¬øQu√© es Jupyter Notebook?",
                options: [
                    "Una librer√≠a de Python",
                    "Un entorno interactivo para escribir y ejecutar c√≥digo Python",
                    "Una base de datos",
                    "Un tipo de archivo"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "PYTHON",
                difficulty: "avanzado",
                question: "¬øCu√°l es la funci√≥n principal de Scikit-learn?",
                options: [
                    "Visualizaci√≥n de datos",
                    "Machine Learning y an√°lisis predictivo",
                    "Manipulaci√≥n de fechas",
                    "Conexi√≥n a bases de datos"
                ],
                correct: 1,
                timeLimit: 150
            },
            {
                section: "PYTHON",
                difficulty: "avanzado",
                question: "¬øQu√© m√©todo se usa para agrupar datos en Pandas?",
                options: [
                    "df.group()",
                    "df.groupby()",
                    "df.aggregate()",
                    "df.cluster()"
                ],
                correct: 1,
                timeLimit: 120
            },

            // SECCI√ìN: R
            {
                section: "R",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la principal ventaja de R para an√°lisis estad√≠stico?",
                options: [
                    "Es m√°s r√°pido que otros lenguajes",
                    "Tiene muchos paquetes especializados en estad√≠stica y visualizaci√≥n",
                    "Es m√°s f√°cil de aprender",
                    "No requiere instalaci√≥n"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "R",
                difficulty: "b√°sico",
                question: "¬øQu√© es ggplot2 en R?",
                options: [
                    "Una base de datos",
                    "Un paquete para crear visualizaciones elegantes",
                    "Un tipo de variable",
                    "Un editor de c√≥digo"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "R",
                difficulty: "b√°sico",
                question: "¬øCu√°l es la funci√≥n para instalar paquetes en R?",
                options: [
                    "load.packages()",
                    "install.packages()",
                    "add.packages()",
                    "get.packages()"
                ],
                correct: 1,
                timeLimit: 90
            },
            {
                section: "R",
                difficulty: "b√°sico",
                question: "¬øQu√© funci√≥n se usa para ver las primeras filas de un dataset en R?",
                options: [
                    "top()",
                    "head()",
                    "first()",
                    "show()"
                ],
                correct: 1,
                timeLimit: 90
            },
            {
                section: "R",
                difficulty: "intermedio",
                question: "¬øQu√© es RStudio?",
                options: [
                    "Un paquete de R",
                    "Un entorno de desarrollo integrado (IDE) para R",
                    "Una funci√≥n de R",
                    "Una base de datos"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "R",
                difficulty: "intermedio",
                question: "¬øCu√°l es la estructura de datos principal en R?",
                options: [
                    "Array",
                    "Data.frame",
                    "List",
                    "Vector"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "R",
                difficulty: "avanzado",
                question: "¬øQu√© paquete de R es popular para manipulaci√≥n de datos?",
                options: [
                    "ggplot2",
                    "dplyr",
                    "shiny",
                    "knitr"
                ],
                correct: 1,
                timeLimit: 120
            },
            {
                section: "R",
                difficulty: "avanzado",
                question: "¬øCu√°l es la funci√≥n para crear un modelo de regresi√≥n lineal en R?",
                options: [
                    "linear()",
                    "lm()",
                    "regression()",
                    "model()"
                ],
                correct: 1,
                timeLimit: 120
            }
        ];

        // Variables globales
        let currentQuestion = 0;
        let score = 0;
        let selectedAnswer = null;
        let timeLeft = 0;
        let timerInterval = null;
        let startTime = 0;
        let questionStartTime = 0;
        let sectionScores = {};
        let detailedResults = [];

        // Inicializar secciones
        function initializeSections() {
            Object.keys(sections).forEach(sectionKey => {
                sectionScores[sectionKey] = {
                    correct: 0,
                    total: 0,
                    timeSpent: 0
                };
            });
        }

        // Mezclar array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Iniciar quiz
        function startQuiz() {
            initializeSections();
            shuffleArray(questions);
            
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            document.getElementById('quizScreen').classList.add('fade-in');
            
            startTime = Date.now();
            showQuestion();
        }

        // Mostrar pregunta
        function showQuestion() {
            if (currentQuestion >= questions.length) {
                showResults();
                return;
            }

            const question = questions[currentQuestion];
            questionStartTime = Date.now();
            
            // Actualizar informaci√≥n de la pregunta
            document.getElementById('questionNumber').textContent = `Pregunta ${currentQuestion + 1} de ${questions.length}`;
            document.getElementById('sectionBadge').textContent = sections[question.section].name;
            document.getElementById('questionText').textContent = question.question;
            
            // Actualizar progreso
            const progress = ((currentQuestion) / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
            
            // Configurar timer
            timeLeft = question.timeLimit || 120;
            updateTimer();
            startTimer();
            
            // Crear opciones
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.setAttribute('data-letter', String.fromCharCode(65 + index));
                optionElement.onclick = () => selectAnswer(index, optionElement);
                
                const optionText = document.createElement('div');
                optionText.className = 'option-text';
                optionText.textContent = option;
                optionElement.appendChild(optionText);
                
                optionsContainer.appendChild(optionElement);
            });
            
            selectedAnswer = null;
            document.getElementById('nextBtn').classList.remove('show');
        }

        // Timer
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 30) {
                    document.getElementById('timer').classList.add('warning');
                }
                
                if (timeLeft <= 0) {
                    timeUp();
                }
            }, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timeLeft').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function timeUp() {
            clearInterval(timerInterval);
            
            // Auto-seleccionar respuesta incorrecta
            const question = questions[currentQuestion];
            const wrongAnswer = question.correct === 0 ? 1 : 0;
            selectAnswer(wrongAnswer, document.querySelectorAll('.option')[wrongAnswer], true);
        }

        // Seleccionar respuesta
        function selectAnswer(answerIndex, optionElement, isTimeUp = false) {
            if (selectedAnswer !== null) return;
            
            clearInterval(timerInterval);
            document.getElementById('timer').classList.remove('warning');
            
            selectedAnswer = answerIndex;
            const question = questions[currentQuestion];
            const timeSpent = Date.now() - questionStartTime;
            
            // Marcar respuesta seleccionada
            optionElement.classList.add('selected');
            
            // Mostrar respuestas correctas e incorrectas
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === answerIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
                option.style.pointerEvents = 'none';
            });
            
            // Actualizar puntuaci√≥n y estad√≠sticas
            const isCorrect = answerIndex === question.correct;
            const points = isCorrect ? (isTimeUp ? 2 : getPointsForTime(timeSpent, question.timeLimit)) : 0;
            
            score += points;
            sectionScores[question.section].total++;
            sectionScores[question.section].timeSpent += timeSpent;
            
            if (isCorrect) {
                sectionScores[question.section].correct++;
            }
            
            // Guardar resultado detallado
            detailedResults.push({
                question: question.question,
                section: question.section,
                difficulty: question.difficulty,
                selected: answerIndex,
                correct: question.correct,
                isCorrect: isCorrect,
                timeSpent: timeSpent,
                points: points,
                isTimeUp: isTimeUp
            });
            
            document.getElementById('currentScore').textContent = `Puntos: ${score}`;
            document.getElementById('nextBtn').classList.add('show');
        }

        function getPointsForTime(timeSpent, timeLimit) {
            const timeRatio = timeSpent / (timeLimit * 1000);
            if (timeRatio <= 0.3) return 5; // Muy r√°pido
            if (timeRatio <= 0.6) return 4; // R√°pido
            if (timeRatio <= 0.8) return 3; // Normal
            return 2; // Lento pero correcto
        }

        // Siguiente pregunta
        function nextQuestion() {
            currentQuestion++;
            setTimeout(() => {
                showQuestion();
            }, 300);
        }

        // Mostrar resultados
        function showResults() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultsScreen').style.display = 'block';
            document.getElementById('resultsScreen').classList.add('fade-in');
            
            const totalQuestions = questions.length;
            const correctAnswers = detailedResults.filter(r => r.isCorrect).length;
            const accuracy = Math.round((correctAnswers / totalQuestions) * 100);
            const totalTime = Date.now() - startTime;
            const avgTime = Math.round(totalTime / totalQuestions / 1000);
            
            // Mostrar puntuaci√≥n final
            document.getElementById('finalScore').textContent = `${correctAnswers}/${totalQuestions}`;
            document.getElementById('totalPoints').textContent = score;
            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('avgTime').textContent = avgTime + 's';
            
            // Determinar nivel y mensaje
            let level, message;
            if (accuracy >= 90) {
                level = "üèÜ Nivel Experto";
                message = "¬°Excelente dominio! Eres un experto en anal√≠tica de datos";
            } else if (accuracy >= 75) {
                level = "‚≠ê Nivel Avanzado";
                message = "¬°Muy bien! Tienes s√≥lidos conocimientos";
            } else if (accuracy >= 60) {
                level = "üìö Nivel Intermedio";
                message = "Buen nivel base, sigue estudiando para mejorar";
            } else {
                level = "üå± Nivel B√°sico";
                message = "Hay mucho potencial, ¬°sigue practicando!";
            }
            
            document.getElementById('performanceLevel').textContent = level;
            document.getElementById('performanceMessage').textContent = message;
            
            // Mejor secci√≥n
            let bestSection = getBestSection();
            document.getElementById('bestSection').textContent = sections[bestSection].name.replace('¬øQu√© tanto sabes de ', '').replace('?', '');
            
            // Mostrar rendimiento por secci√≥n
            showSectionPerformance();
            
            // Generar retroalimentaci√≥n
            generateFeedback();
        }

        function getBestSection() {
            let bestSection = '';
            let bestScore = -1;
            
            Object.keys(sectionScores).forEach(section => {
                if (sectionScores[section].total > 0) {
                    const sectionAccuracy = sectionScores[section].correct / sectionScores[section].total;
                    if (sectionAccuracy > bestScore) {
                        bestScore = sectionAccuracy;
                        bestSection = section;
                    }
                }
            });
            
            return bestSection || Object.keys(sectionScores)[0];
        }

        function showSectionPerformance() {
            const container = document.getElementById('sectionPerformance');
            container.innerHTML = '';
            
            Object.keys(sections).forEach(sectionKey => {
                const sectionData = sectionScores[sectionKey];
                if (sectionData.total === 0) return;
                
                const accuracy = Math.round((sectionData.correct / sectionData.total) * 100);
                const avgTime = Math.round(sectionData.timeSpent / sectionData.total / 1000);
                
                let performanceClass = '';
                if (accuracy >= 80) performanceClass = 'excellent';
                else if (accuracy >= 65) performanceClass = 'good';
                else if (accuracy >= 50) performanceClass = 'fair';
                else performanceClass = 'needs-improvement';
                
                const card = document.createElement('div');
                card.className = `section-card ${performanceClass}`;
                card.innerHTML = `
                    <h4>${sections[sectionKey].name.replace('¬øQu√© tanto sabes de ', '').replace('?', '')}</h4>
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>${sectionData.correct}/${sectionData.total}</span>
                        <span>${accuracy}%</span>
                        <span>${avgTime}s promedio</span>
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function generateFeedback() {
            const feedbackList = document.getElementById('feedbackList');
            feedbackList.innerHTML = '';
            
            const recommendations = [];
            
            // Analizar cada secci√≥n
            Object.keys(sections).forEach(sectionKey => {
                const sectionData = sectionScores[sectionKey];
                if (sectionData.total === 0) return;
                
                const accuracy = (sectionData.correct / sectionData.total) * 100;
                const sectionName = sections[sectionKey].name.replace('¬øQu√© tanto sabes de ', '').replace('?', '');
                
                if (accuracy < 70) {
                    recommendations.push(`Reforzar conocimientos en ${sectionName} - Precisi√≥n: ${Math.round(accuracy)}%`);
                } else if (accuracy >= 90) {
                    recommendations.push(`¬°Excelente dominio en ${sectionName}! Mant√©n este nivel`);
                }
            });
            
            // An√°lisis por dificultad
            const basicQuestions = detailedResults.filter(r => r.difficulty === 'b√°sico');
            const intermediateQuestions = detailedResults.filter(r => r.difficulty === 'intermedio');
            const advancedQuestions = detailedResults.filter(r => r.difficulty === 'avanzado');
            
            const basicAccuracy = basicQuestions.length > 0 ? 
                (basicQuestions.filter(r => r.isCorrect).length / basicQuestions.length) * 100 : 0;
            const intermediateAccuracy = intermediateQuestions.length > 0 ? 
                (intermediateQuestions.filter(r => r.isCorrect).length / intermediateQuestions.length) * 100 : 0;
            const advancedAccuracy = advancedQuestions.length > 0 ? 
                (advancedQuestions.filter(r => r.isCorrect).length / advancedQuestions.length) * 100 : 0;
            
            if (basicAccuracy < 80) {
                recommendations.push('Enf√≥cate en conceptos fundamentales y definiciones b√°sicas');
            }
            if (intermediateAccuracy < 70) {
                recommendations.push('Profundiza en temas de nivel intermedio y casos pr√°cticos');
            }
            if (advancedAccuracy < 60) {
                recommendations.push('Estudia temas avanzados y aplicaciones especializadas');
            }
            
            // An√°lisis de tiempo
            const timeUpQuestions = detailedResults.filter(r => r.isTimeUp).length;
            if (timeUpQuestions > totalQuestions * 0.2) {
                recommendations.push('Practica para mejorar velocidad de respuesta');
            }
            
            if (recommendations.length === 0) {
                recommendations.push('¬°Excelente rendimiento general! Sigue as√≠');
            }
            
            recommendations.forEach(rec => {
                const li = document.createElement('li');
                li.textContent = rec;
                feedbackList.appendChild(li);
            });
        }

        function showDetailedResults() {
            // Aqu√≠ podr√≠as implementar una vista m√°s detallada
            alert('An√°lisis detallado disponible pr√≥ximamente. Por ahora, revisa tu retroalimentaci√≥n arriba.');
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            selectedAnswer = null;
            detailedResults = [];
            
            if (timerInterval) clearInterval(timerInterval);
            
            initializeSections();
            shuffleArray(questions);
            
            document.getElementById('resultsScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }

        // Inicializar al cargar
        initializeSections();
    </script>
</body>
</html>
